{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://my-invite.com/schemas/recipient-response.json",
  "title": "RecipientResponse",
  "description": "A recipient's response to an invitation (always 'yes' since 'no' is unclickable)",
  "type": "object",
  "required": ["id", "invitationId", "response", "respondedAt"],
  "additionalProperties": false,
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for this response (UUID v4)",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"
    },
    "invitationId": {
      "type": "string",
      "description": "Foreign key to the invitation this response is for",
      "pattern": "^[a-f0-9]{64}$"
    },
    "response": {
      "type": "string",
      "enum": ["yes"],
      "description": "Recipient's response (always 'yes' by design; 'no' is not clickable)"
    },
    "respondedAt": {
      "type": "string",
      "format": "date-time",
      "description": "ISO8601 timestamp when recipient clicked 'Yes'"
    },
    "userAgent": {
      "type": ["string", "null"],
      "description": "Optional: Browser user agent for analytics/debugging"
    },
    "viewport": {
      "type": ["object", "null"],
      "description": "Optional: Device viewport dimensions for UX analytics",
      "properties": {
        "width": {
          "type": "integer",
          "minimum": 0,
          "description": "Viewport width in pixels"
        },
        "height": {
          "type": "integer",
          "minimum": 0,
          "description": "Viewport height in pixels"
        }
      },
      "required": ["width", "height"],
      "additionalProperties": false
    }
  },
  "examples": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "invitationId": "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6",
      "response": "yes",
      "respondedAt": "2026-02-09T14:25:30Z",
      "userAgent": "Mozilla/5.0 (iPhone; CPU iPhone OS 17_0 like Mac OS X)",
      "viewport": {
        "width": 390,
        "height": 844
      }
    }
  ]
}
